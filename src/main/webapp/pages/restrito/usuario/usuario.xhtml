<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/sonolucroTemplateInterno.xhtml">

    <ui:define name="corpo">

        <h:form id ="formPrincipal">
            <p:fieldset id ="fieldsetUsuario" legend ="#{msg.usuario_edicao_dados_pessoais}" toggleSpeed="500" toggleable="true" >

                <p:messages id="messageEdicaoUsuario" autoUpdate="true" closable="true"  severity="info, error"/> 

                <h:panelGrid id ="gridUsuarioEdicao" columns="6" cellspacing="20" >

                    <h:outputLabel value="#{msg.usuario_nome}" for="nomeUsuarioAltera" />
                    <p:inputText id="nomeUsuarioAltera" value="#{usuarioNavegacao.usuarioLogado.nome}"
                                 required="true">
                        <f:validateLength minimum="3" maximum="30" />
                    </p:inputText>
                    <p:message for="nomeUsuarioAltera" display = "icon"/>

                    <h:outputLabel value ="#{msg.usuario_sobrenome}" for ="sobrenomeUsuarioAltera"/>
                    <p:inputText id ="sobrenomeUsuarioAltera" value ="#{usuarioNavegacao.usuarioLogado.sobrenome}"/>
                    <p:message for ="sobrenomeUsuarioAltera"/>

                    <h:outputLabel value="#{msg.usuario_email}" for="emailUsuarioAltera" />
                    <p:inputText id="emailUsuarioAltera"
                                 value="#{usuarioNavegacao.usuarioLogado.email}"
                                 validatorMessage="e-Mail invÃ¡lido">
                        <f:validateRegex pattern="[a-zA-Z0-9\-\_\.]+@[a-zA-Z0-9\-\_\.]+" />
                    </p:inputText>
                    <p:message for="emailUsuarioAltera" display = "icon"/>

                    <h:outputLabel value="#{msg.usuario_data_nascimento}" for="dataNascimentoUsuarioAltera" />
                    <p:calendar id="dataNascimentoUsuarioAltera" pattern="dd/MM/yyyy"
                                value="#{usuarioNavegacao.usuarioLogado.dataNascimento}"
                                required="true" navigator="true" />
                    <p:message for="dataNascimentoUsuarioAltera" display = "icon" />

                    <h:outputLabel value="#{msg.usuario_idioma}" for="idiomaUsuarioAltera" />
                    <p:selectOneMenu id="idiomaUsuarioAltera"
                                     value="#{usuarioNavegacao.idiomaItemSelecionado}" required="true">
                        <f:selectItem itemLabel="" itemValue=""/>
                        <f:selectItems value ="#{usuarioNavegacao.idiomasItem}"/>
                    </p:selectOneMenu>
                    <p:message for="idiomaUsuarioAltera" display = "icon"/>

                    <h:outputLabel value="#{msg.usuario_sexo}" for="sexoUsuarioAltera" />
                    <p:selectOneMenu id="sexoUsuarioAltera" value="#{usuarioNavegacao.sexoItemSelecionado}" required="true">
                        <f:selectItem itemLabel="" itemValue=""/>
                        <f:selectItems value ="#{usuarioNavegacao.sexosItem}"/>
                    </p:selectOneMenu>
                    <p:message for="sexoUsuarioAltera" display = "icon"/>

                    <h:outputLabel value="#{msg.usuario_senha}" for="senhaUsuarioAltera" />
                    <p:password id="senhaUsuarioAltera" value="#{usuarioNavegacao.senha}"
                                required="true"/>
                    <p:message for="senhaUsuarioAltera" display = "icon"/>

                    <h:outputLabel value="#{msg.usuario_nova_senha}" for="novaSenhaUsuarioAltera" />
                    <p:password id="novaSenhaUsuarioAltera" value="#{usuarioNavegacao.novaSenha}" 
                                match="confirmaSenhaUsuarioAltera" feedback="true" required="true" />
                    <p:message for="novaSenhaUsuarioAltera" display = "icon"/>

                    <h:outputLabel value="#{msg.usuario_confirma_senha}" for="confirmaSenhaUsuarioAltera" />
                    <p:password id="confirmaSenhaUsuarioAltera"
                                value="#{usuarioNavegacao.confirmaSenha}" required="true" />
                    <p:message for="confirmaSenhaUsuarioAltera" display = "icon"/>

                    <h:outputLabel value =""/>
                    <h:outputLabel value =""/>
                    <h:outputLabel value =""/>

                    <p:commandButton value ="#{msg.botao_salvar}" actionListener ="#{usuarioNavegacaoControle.alterar}" 
                                     process ="gridUsuarioEdicao" update ="@form"/>

                </h:panelGrid>
            </p:fieldset>
        </h:form>
    </ui:define>	
</ui:composition>